{"ast":null,"code":"import _classCallCheck from\"/Users/joshuacolvin/Desktop/Development/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joshuacolvin/Desktop/Development/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/joshuacolvin/Desktop/Development/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/joshuacolvin/Desktop/Development/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{getRandomMeal}from'../../../../app_state/action_creators/getActions.jsx';import{RecipeCard}from'../../../../static_components';var RandomMeal=/*#__PURE__*/function(_React$Component){_inherits(RandomMeal,_React$Component);var _super=_createSuper(RandomMeal);function RandomMeal(props){var _this;_classCallCheck(this,RandomMeal);_this=_super.call(this,props);_this.state={isLoading:true,meal:{strMeal:\"\",strCategory:\"\",strArea:\"\",strInstructions:\"\",strMealThumb:\"\",strTags:\"\",strYoutube:\"\",strIngredients:[],strSource:\"\"}};return _this;}_createClass(RandomMeal,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://www.themealdb.com/api/json/v1/1/random.php\").then(function(response){return response.json();}).then(function(data){return _this2.props.getRandomMeal(data);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this3=this;if(prevState.meal[\"strMeal\"].localeCompare(\"\")===0){var i=1;var formattedStr=\"\";var isEmptyStr;var ingredients=[];do{isEmptyStr=this.props.meal[\"strMeasure\".concat(i)]===\"\"||this.props.meal[\"strMeasure\".concat(i)]===\" \";formattedStr=this.props.meal[\"strIngredient\".concat(i)]+(isEmptyStr?\"\":\" - \".concat(this.props.meal[\"strMeasure\".concat(i)]));ingredients.push(formattedStr);i++;}while(this.props.meal[\"strIngredient\".concat(i)]!==\"\"&&this.props.meal[\"strIngredient\".concat(i)]!==null&&i<=20);this.setState(function(){return{isLoading:false,meal:{strMeal:_this3.props.meal[\"strMeal\"],strCategory:_this3.props.meal[\"strCategory\"],strArea:_this3.props.meal[\"strArea\"],strInstructions:_this3.props.meal[\"strInstructions\"],strMealThumb:_this3.props.meal[\"strMealThumb\"],strTags:_this3.props.meal[\"strTags\"],strYoutube:_this3.props.meal[\"strYoutube\"],strIngredients:[].concat(ingredients),strSource:_this3.props.meal[\"strSource\"]}};});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.isLoading?/*#__PURE__*/React.createElement(\"h2\",null,\"Loading...\"):/*#__PURE__*/React.createElement(RecipeCard,{meal:this.state.meal[\"strMeal\"],category:this.state.meal[\"strCategory\"],source:this.state.meal[\"strSource\"],area:this.state.meal[\"strArea\"],img:this.state.meal[\"strMealThumb\"],ingredients:this.state.meal[\"strIngredients\"],instructions:this.state.meal[\"strInstructions\"],tags:this.state.meal[\"strTags\"]}));}}]);return RandomMeal;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{meal:state.getMealsReducer[0]};};export default connect(mapStateToProps,{getRandomMeal:getRandomMeal})(RandomMeal);","map":{"version":3,"sources":["/Users/joshuacolvin/Desktop/Development/meal-db/src/router/components/meals/random_meal/index.jsx"],"names":["React","connect","getRandomMeal","RecipeCard","RandomMeal","props","state","isLoading","meal","strMeal","strCategory","strArea","strInstructions","strMealThumb","strTags","strYoutube","strIngredients","strSource","fetch","then","response","json","data","prevProps","prevState","localeCompare","i","formattedStr","isEmptyStr","ingredients","push","setState","Component","mapStateToProps","getMealsReducer"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { connect } from 'react-redux';\nimport { getRandomMeal } from '../../../../app_state/action_creators/getActions.jsx';\n\nimport { RecipeCard } from '../../../../static_components';\n\nclass RandomMeal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\tmeal: {\n\t\t\t\tstrMeal: \"\",\n\t\t\t\tstrCategory: \"\",\n\t\t\t\tstrArea: \"\",\n\t\t\t\tstrInstructions: \"\",\n\t\t\t\tstrMealThumb: \"\",\n\t\t\t\tstrTags: \"\",\n\t\t\t\tstrYoutube: \"\",\n\t\t\t\tstrIngredients: [],\n\t\t\t\tstrSource: \"\"\n\t\t\t}\n\t\t};\n\t}\n\tcomponentDidMount() {\n\t\tfetch(\"https://www.themealdb.com/api/json/v1/1/random.php\")\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.props.getRandomMeal(data));\n\t}\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif (prevState.meal[\"strMeal\"].localeCompare(\"\") === 0) {\n\t\t\tlet i = 1;\n\t\t\tlet formattedStr = \"\";\n\t\t\tlet isEmptyStr;\n\t\t\tlet ingredients = [];\n\t\t\tdo {\n\t\t\t\tisEmptyStr = (this.props.meal[`strMeasure${i}`] === \"\") || (this.props.meal[`strMeasure${i}`] === \" \");\n\t\t\t\tformattedStr = this.props.meal[`strIngredient${i}`] + (isEmptyStr ? \"\" : ` - ${this.props.meal[`strMeasure${i}`]}`);\n\t\t\t\tingredients.push(formattedStr);\n\t\t\t\ti++;\n\t\t\t} while((this.props.meal[`strIngredient${i}`] !== \"\") && (this.props.meal[`strIngredient${i}`] !== null) && (i <= 20));\n\n\t\t\tthis.setState(() => ({\n\t\t\t\tisLoading: false,\n\t\t\t\tmeal: {\n\t\t\t\t\tstrMeal: this.props.meal[\"strMeal\"],\n\t\t\t\t\tstrCategory: this.props.meal[\"strCategory\"],\n\t\t\t\t\tstrArea: this.props.meal[\"strArea\"],\n\t\t\t\t\tstrInstructions: this.props.meal[\"strInstructions\"],\n\t\t\t\t\tstrMealThumb: this.props.meal[\"strMealThumb\"],\n\t\t\t\t\tstrTags: this.props.meal[\"strTags\"],\n\t\t\t\t\tstrYoutube: this.props.meal[\"strYoutube\"],\n\t\t\t\t\tstrIngredients: [...ingredients],\n\t\t\t\t\tstrSource: this.props.meal[\"strSource\"]\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\trender() {\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t{\n\t\t\t\tthis.state.isLoading ?\n\t\t\t\t\t<h2>Loading...</h2> :\n\t\t\t\t\t<RecipeCard meal={this.state.meal[\"strMeal\"]} category={this.state.meal[\"strCategory\"]} source={this.state.meal[\"strSource\"]}\n\t\t\t\t\t\t\tarea={this.state.meal[\"strArea\"]} img={this.state.meal[\"strMealThumb\"]} \n\t\t\t\t\t\t\tingredients={this.state.meal[\"strIngredients\"]} instructions={this.state.meal[\"strInstructions\"]} \n\t\t\t\t\t\t\ttags={this.state.meal[\"strTags\"]} />\n\t\t\t}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\nconst mapStateToProps = state => {\n\treturn {meal: state.getMealsReducer[0]}\n}\n\nexport default connect(\n\tmapStateToProps,\n\t{ getRandomMeal }\n)(RandomMeal)"]},"metadata":{},"sourceType":"module"}