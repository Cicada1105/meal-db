{"ast":null,"code":"import _classCallCheck from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{filterID}from'../../../app_state/action_creators/filterActions.jsx';import{RecipeCard}from'../../../static_components';var Meal=/*#__PURE__*/function(_React$Component){_inherits(Meal,_React$Component);var _super=_createSuper(Meal);function Meal(props){var _this;_classCallCheck(this,Meal);_this=_super.call(this,props);_this.state={isLoading:true,mealID:props.match.params.mealID,meal:{strMeal:\"\",strCategory:\"\",strArea:\"\",strInstructions:\"\",strMealThumb:\"\",strTags:\"\",strYoutube:\"\",strIngredients:[],strSource:\"\"}};return _this;}_createClass(Meal,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\".concat(this.state.mealID)).then(function(response){return response.json();}).then(function(data){return _this2.props.filterID(data);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this3=this;if(prevState.meal[\"strMeal\"].localeCompare(\"\")===0){var i=1;var formattedStr=\"\";var isEmptyStr;var ingredients=[];do{isEmptyStr=this.props.meal[\"strMeasure\".concat(i)]===\"\"||this.props.meal[\"strMeasure\".concat(i)]===\" \";formattedStr=this.props.meal[\"strIngredient\".concat(i)]+(isEmptyStr?\"\":\" - \".concat(this.props.meal[\"strMeasure\".concat(i)]));ingredients.push(formattedStr);i++;}while(this.props.meal[\"strIngredient\".concat(i)]!==\"\"&&this.props.meal[\"strIngredient\".concat(i)]!==null&&i<=20);this.setState(function(){return{isLoading:false,meal:{strMeal:_this3.props.meal[\"strMeal\"],strCategory:_this3.props.meal[\"strCategory\"],strArea:_this3.props.meal[\"strArea\"],strInstructions:_this3.props.meal[\"strInstructions\"],strMealThumb:_this3.props.meal[\"strMealThumb\"],strTags:_this3.props.meal[\"strTags\"],strYoutube:_this3.props.meal[\"strYoutube\"],strIngredients:[].concat(ingredients),strSource:_this3.props.meal[\"strSource\"]}};});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.isLoading?/*#__PURE__*/React.createElement(\"h2\",null,\"Loading...\"):/*#__PURE__*/React.createElement(RecipeCard,{meal:this.state.meal[\"strMeal\"],category:this.state.meal[\"strCategory\"],source:this.state.meal[\"strSource\"],area:this.state.meal[\"strArea\"],img:this.state.meal[\"strMealThumb\"],ingredients:this.state.meal[\"strIngredients\"],instructions:this.state.meal[\"strInstructions\"],tags:this.state.meal[\"strTags\"]}));}}]);return Meal;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{meal:state.filterMealsReducer[0]};};export default connect(mapStateToProps,{filterID:filterID})(Meal);","map":{"version":3,"sources":["/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/src/router/components/meals/index.jsx"],"names":["React","connect","filterID","RecipeCard","Meal","props","state","isLoading","mealID","match","params","meal","strMeal","strCategory","strArea","strInstructions","strMealThumb","strTags","strYoutube","strIngredients","strSource","fetch","then","response","json","data","prevProps","prevState","localeCompare","i","formattedStr","isEmptyStr","ingredients","push","setState","Component","mapStateToProps","filterMealsReducer"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { connect } from 'react-redux';\nimport { filterID } from '../../../app_state/action_creators/filterActions.jsx';\n\nimport { RecipeCard } from '../../../static_components';\n\nclass Meal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\tmealID: props.match.params.mealID,\n\t\t\tmeal: { \n\t\t\t\tstrMeal: \"\",\n\t\t\t\tstrCategory: \"\",\n\t\t\t\tstrArea: \"\",\n\t\t\t\tstrInstructions: \"\",\n\t\t\t\tstrMealThumb: \"\",\n\t\t\t\tstrTags: \"\",\n\t\t\t\tstrYoutube: \"\",\n\t\t\t\tstrIngredients: [],\n\t\t\t\tstrSource: \"\"\n\t\t\t}\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tfetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${this.state.mealID}`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.props.filterID(data));\n\t}\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif (prevState.meal[\"strMeal\"].localeCompare(\"\") === 0) {\n\t\t\tlet i = 1;\n\t\t\tlet formattedStr = \"\";\n\t\t\tlet isEmptyStr;\n\t\t\tlet ingredients = [];\n\t\t\tdo {\n\t\t\t\tisEmptyStr = (this.props.meal[`strMeasure${i}`] === \"\") || (this.props.meal[`strMeasure${i}`] === \" \");\n\t\t\t\tformattedStr = this.props.meal[`strIngredient${i}`] + (isEmptyStr ? \"\" : ` - ${this.props.meal[`strMeasure${i}`]}`);\n\t\t\t\tingredients.push(formattedStr);\n\t\t\t\ti++;\n\t\t\t} while((this.props.meal[`strIngredient${i}`] !== \"\") && (this.props.meal[`strIngredient${i}`] !== null) && (i <= 20));\n\n\t\t\tthis.setState(() => ({\n\t\t\t\tisLoading: false,\n\t\t\t\tmeal: {\n\t\t\t\t\tstrMeal: this.props.meal[\"strMeal\"],\n\t\t\t\t\tstrCategory: this.props.meal[\"strCategory\"],\n\t\t\t\t\tstrArea: this.props.meal[\"strArea\"],\n\t\t\t\t\tstrInstructions: this.props.meal[\"strInstructions\"],\n\t\t\t\t\tstrMealThumb: this.props.meal[\"strMealThumb\"],\n\t\t\t\t\tstrTags: this.props.meal[\"strTags\"],\n\t\t\t\t\tstrYoutube: this.props.meal[\"strYoutube\"],\n\t\t\t\t\tstrIngredients: [...ingredients],\n\t\t\t\t\tstrSource: this.props.meal[\"strSource\"]\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t{\n\t\t\t\tthis.state.isLoading ?\n\t\t\t\t\t<h2>Loading...</h2> :\n\t\t\t\t\t<RecipeCard meal={this.state.meal[\"strMeal\"]} category={this.state.meal[\"strCategory\"]} source={this.state.meal[\"strSource\"]}\n\t\t\t\t\t\t\tarea={this.state.meal[\"strArea\"]} img={this.state.meal[\"strMealThumb\"]} \n\t\t\t\t\t\t\tingredients={this.state.meal[\"strIngredients\"]} instructions={this.state.meal[\"strInstructions\"]} \n\t\t\t\t\t\t\ttags={this.state.meal[\"strTags\"]} />\n\t\t\t}\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn { meal: state.filterMealsReducer[0] }\n}\n\nexport default connect(\n\tmapStateToProps,\n\t{ filterID }\n)(Meal)"]},"metadata":{},"sourceType":"module"}