{"ast":null,"code":"import _toConsumableArray from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{filterCategory}from'../../../../app_state/action_creators/filterActions.jsx';import{Button,ImageCard,Tag}from'../../../../static_components';import styles from'./index.module.css';var Category=/*#__PURE__*/function(_React$Component){_inherits(Category,_React$Component);var _super=_createSuper(Category);function Category(props){var _this;_classCallCheck(this,Category);_this=_super.call(this,props);_this.state={isLoading:true,categoryID:props.match.params.categoryID,meals:[]};return _this;}_createClass(Category,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://www.themealdb.com/api/json/v1/1/filter.php?c=\".concat(this.state.categoryID)).then(function(response){return response.json();}).then(function(data){return _this2.props.filterCategory(data);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState[\"meals\"].length===0){this.setState(function(){return{isLoading:false,meals:_toConsumableArray(this.props.meals)};});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"header\",{className:styles.categoryHeader},/*#__PURE__*/React.createElement(Tag,{path:-1},\"Go Back\"),/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(\"ins\",null,this.state.categoryID)),/*#__PURE__*/React.createElement(Button,{text:\"Home\",path:\"/Home\"})),/*#__PURE__*/React.createElement(\"div\",{className:styles.flexWrap},this.state.isLoading?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ImageCard,{text:\"Loading...\"}),/*#__PURE__*/React.createElement(ImageCard,{text:\"Loading...\"}),/*#__PURE__*/React.createElement(ImageCard,{text:\"Loading...\"}),/*#__PURE__*/React.createElement(ImageCard,{text:\"Loading...\"})):this.state.meals.map(function(meal,i){return/*#__PURE__*/React.createElement(ImageCard,{key:i,text:meal[\"strMeal\"],imageURL:meal[\"strMealThumb\"],recipeLink:\"/Meals/\".concat(meal[\"idMeal\"])});})));}}]);return Category;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{meals:state.filterMealsReducer};};export default connect(mapStateToProps,{filterCategory:filterCategory})(Category);","map":{"version":3,"sources":["/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/src/router/components/categories/category/index.jsx"],"names":["React","connect","filterCategory","Button","ImageCard","Tag","styles","Category","props","state","isLoading","categoryID","match","params","meals","fetch","then","response","json","data","prevProps","prevState","length","setState","categoryHeader","flexWrap","map","meal","i","Component","mapStateToProps","filterMealsReducer"],"mappings":"81BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,cAAT,KAA+B,yDAA/B,CAEA,OAASC,MAAT,CAAiBC,SAAjB,CAA4BC,GAA5B,KAAuC,+BAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,C,GAEMC,CAAAA,Q,gHACL,kBAAYC,KAAZ,CAAmB,0CAClB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACZC,SAAS,CAAE,IADC,CAEZC,UAAU,CAAEH,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBF,UAFnB,CAGZG,KAAK,CAAE,EAHK,CAAb,CAFkB,aAOlB,C,kFACmB,iBACnBC,KAAK,gEAAyD,KAAKN,KAAL,CAAWE,UAApE,EAAL,CACEK,IADF,CACO,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADf,EAEEF,IAFF,CAEO,SAAAG,IAAI,QAAI,CAAA,MAAI,CAACX,KAAL,CAAWN,cAAX,CAA0BiB,IAA1B,CAAJ,EAFX,EAGA,C,8DACkBC,S,CAAUC,S,CAAW,CACvC,GAAIA,SAAS,CAAC,OAAD,CAAT,CAAmBC,MAAnB,GAA8B,CAAlC,CAAqC,CACpC,KAAKC,QAAL,CAAc,UAAW,CACxB,MAAO,CACNb,SAAS,CAAE,KADL,CAENI,KAAK,oBAAM,KAAKN,KAAL,CAAWM,KAAjB,CAFC,CAAP,CAIA,CALD,EAMA,CACD,C,uCACQ,CACR,mBACC,oBAAC,KAAD,CAAO,QAAP,mBACC,8BAAQ,SAAS,CAAER,MAAM,CAACkB,cAA1B,eACC,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAC,CAAZ,YADD,cAEC,2CAAI,+BAAO,KAAKf,KAAL,CAAWE,UAAlB,CAAJ,CAFD,cAGC,oBAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,IAAI,CAAC,OAAzB,EAHD,CADD,cAMC,2BAAK,SAAS,CAAEL,MAAM,CAACmB,QAAvB,EAEC,KAAKhB,KAAL,CAAWC,SAAX,cACC,qDACC,oBAAC,SAAD,EAAW,IAAI,CAAC,YAAhB,EADD,cAEC,oBAAC,SAAD,EAAW,IAAI,CAAC,YAAhB,EAFD,cAGC,oBAAC,SAAD,EAAW,IAAI,CAAC,YAAhB,EAHD,cAIC,oBAAC,SAAD,EAAW,IAAI,CAAC,YAAhB,EAJD,CADD,CAOC,KAAKD,KAAL,CAAWK,KAAX,CAAiBY,GAAjB,CAAqB,SAACC,IAAD,CAAMC,CAAN,qBACpB,oBAAC,SAAD,EAAW,GAAG,CAAEA,CAAhB,CAAmB,IAAI,CAAED,IAAI,CAAC,SAAD,CAA7B,CAA0C,QAAQ,CAAEA,IAAI,CAAC,cAAD,CAAxD,CAA0E,UAAU,kBAAYA,IAAI,CAAC,QAAD,CAAhB,CAApF,EADoB,EAArB,CATF,CAND,CADD,CAuBA,C,sBAhDqB3B,KAAK,CAAC6B,S,EAmD7B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAArB,KAAK,CAAI,CAChC,MAAO,CACNK,KAAK,CAAEL,KAAK,CAACsB,kBADP,CAAP,CAGA,CAJD,CAMA,cAAe9B,CAAAA,OAAO,CACrB6B,eADqB,CAErB,CAAE5B,cAAc,CAAdA,cAAF,CAFqB,CAAP,CAGbK,QAHa,CAAf","sourcesContent":["import React from 'react';\n\nimport { connect } from 'react-redux';\nimport { filterCategory } from '../../../../app_state/action_creators/filterActions.jsx';\n\nimport { Button, ImageCard, Tag } from '../../../../static_components';\nimport styles from './index.module.css';\n\nclass Category extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\tcategoryID: props.match.params.categoryID,\n\t\t\tmeals: []\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tfetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${this.state.categoryID}`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.props.filterCategory(data));\n\t}\n\tcomponentDidUpdate(prevProps,prevState) {\n\t\tif (prevState[\"meals\"].length === 0) {\n\t\t\tthis.setState(function() {\n\t\t\t\treturn {\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\tmeals: [...this.props.meals]\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\trender() {\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t\t<header className={styles.categoryHeader}>\n\t\t\t\t\t<Tag path={-1}>Go Back</Tag>\n\t\t\t\t\t<h2><ins>{ this.state.categoryID }</ins></h2>\n\t\t\t\t\t<Button text=\"Home\" path=\"/Home\" />\n\t\t\t\t</header>\n\t\t\t\t<div className={styles.flexWrap}>\n\t\t\t\t{\n\t\t\t\t\tthis.state.isLoading ?\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ImageCard text=\"Loading...\" />\n\t\t\t\t\t\t\t<ImageCard text=\"Loading...\" />\n\t\t\t\t\t\t\t<ImageCard text=\"Loading...\" />\n\t\t\t\t\t\t\t<ImageCard text=\"Loading...\" />\n\t\t\t\t\t\t</> :\n\t\t\t\t\t\tthis.state.meals.map((meal,i) =>\n\t\t\t\t\t\t\t<ImageCard key={i} text={meal[\"strMeal\"]} imageURL={meal[\"strMealThumb\"]} recipeLink={`/Meals/${meal[\"idMeal\"]}`} />\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tmeals: state.filterMealsReducer\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\t{ filterCategory }\n)(Category)"]},"metadata":{},"sourceType":"module"}