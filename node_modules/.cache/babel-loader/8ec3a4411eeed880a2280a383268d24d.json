{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{useHistory}from'react-router-dom';import{Button}from'./button.jsx';import{Tag}from'./tag.jsx';import styles from'./static_style.module.css';var RecipeCard=function RecipeCard(props){var history=useHistory();var headerRef=useRef(null);var mainRef=useRef(null);var ingredientsRef=useRef(null);var scrollBlurRef=useRef(null);var instructionsRef=useRef(null);var footerRef=useRef(null);var bgCardRef=useRef(null);function navigateTo(pathIn){history.push(pathIn);}useEffect(function(){var headerHeight=headerRef.current.offsetHeight;var instructionsHeight=instructionsRef.current.offsetHeight;var footerHeight=footerRef.current.offsetHeight;var screenBottomMargin=parseInt(window.getComputedStyle(bgCardRef.current).marginBottom);// Min height = 100vh - height of area above recipe card\nvar minHeight=window.innerHeight-(headerHeight+screenBottomMargin);// content = instructions height + footer height + footer bottom offset (30px)\nvar contentHeight=instructionsHeight+footerHeight+30;// Set background card to height of max val between minHeight and contentHeight\nbgCardRef.current.style.height=\"\".concat(Math.max(minHeight,contentHeight),\"px\");mainRef.current.style.height=\"\".concat(Math.max(minHeight,contentHeight),\"px\");// If ingredients overflows, display scroll blur, else don't\nscrollBlurRef.current.style.display=ingredientsRef.current.scrollHeight>ingredientsRef.current.offsetHeight?\"block\":\"none\";},[headerRef,instructionsRef,footerRef]);return/*#__PURE__*/React.createElement(\"section\",{className:styles.recipeSection},/*#__PURE__*/React.createElement(\"header\",{className:styles.recipeHeader,ref:headerRef},/*#__PURE__*/React.createElement(Tag,{path:-1},\"Go Back\"),/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(\"ins\",null,props.meal)),/*#__PURE__*/React.createElement(\"span\",{className:styles.category},\"Category: \",/*#__PURE__*/React.createElement(\"span\",{className:styles.link,onClick:function onClick(){return navigateTo(\"/Categories/\".concat(props.category));}},props.category)),/*#__PURE__*/React.createElement(\"span\",{className:styles.area},\"Area: \",/*#__PURE__*/React.createElement(\"span\",{className:styles.link,onClick:function onClick(){return navigateTo(\"/Areas/\".concat(props.area));}},props.area)),/*#__PURE__*/React.createElement(Button,{text:\"Home\",path:\"/Home\"})),/*#__PURE__*/React.createElement(\"main\",{ref:mainRef,className:styles.recipeCard},/*#__PURE__*/React.createElement(\"figure\",{onClick:function onClick(){return window.open(\"\".concat(props.source),\"_blank\");}},/*#__PURE__*/React.createElement(\"img\",{src:props.img,alt:props.meal}),/*#__PURE__*/React.createElement(\"figcaption\",null,\"- View Source -\")),/*#__PURE__*/React.createElement(\"article\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Ingredients\"),/*#__PURE__*/React.createElement(\"div\",{ref:ingredientsRef,className:styles.ingredients},props.ingredients.map(function(ingredient,i){return/*#__PURE__*/React.createElement(\"p\",{key:i},ingredient);})),/*#__PURE__*/React.createElement(\"div\",{ref:scrollBlurRef,className:styles.scrollBlur})),/*#__PURE__*/React.createElement(\"div\",{ref:instructionsRef,className:styles.instructions},props.instructions.includes(\"\\r\\n\\r\\n\")?props.instructions.split(\"\\r\\n\\r\\n\").map(function(instruction,i){return/*#__PURE__*/React.createElement(\"p\",{key:i},instruction);}):props.instructions.split(\"\\r\\n\").map(function(instruction,i){return/*#__PURE__*/React.createElement(\"p\",{key:i},instruction);})),/*#__PURE__*/React.createElement(\"footer\",{ref:footerRef},\"Tags:\",props.tags&&props.tags.split(\",\").map(function(tag,i){return/*#__PURE__*/React.createElement(Tag,{key:i},tag);}))),/*#__PURE__*/React.createElement(\"div\",{ref:bgCardRef,className:styles.recipeCardBg}));};export{RecipeCard};","map":{"version":3,"sources":["/Users/joshuacolvin/Desktop/Development/meal-db/meal-db/src/static_components/recipeCard.jsx"],"names":["React","useEffect","useRef","useHistory","Button","Tag","styles","RecipeCard","props","history","headerRef","mainRef","ingredientsRef","scrollBlurRef","instructionsRef","footerRef","bgCardRef","navigateTo","pathIn","push","headerHeight","current","offsetHeight","instructionsHeight","footerHeight","screenBottomMargin","parseInt","window","getComputedStyle","marginBottom","minHeight","innerHeight","contentHeight","style","height","Math","max","display","scrollHeight","recipeSection","recipeHeader","meal","category","link","area","recipeCard","open","source","img","ingredients","map","ingredient","i","scrollBlur","instructions","includes","split","instruction","tags","tag","recipeCardBg"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Button } from './button.jsx';\nimport { Tag } from './tag.jsx';\n\nimport styles from './static_style.module.css';\n\nconst RecipeCard = (props) => {\n\tconst history = useHistory();\n\n\tconst headerRef = useRef(null);\n\tconst mainRef = useRef(null);\n\tconst ingredientsRef = useRef(null);\n\tconst scrollBlurRef = useRef(null);\n\tconst instructionsRef = useRef(null);\n\tconst footerRef = useRef(null);\n\tconst bgCardRef = useRef(null);\n\n\tfunction navigateTo(pathIn) {\n\t\thistory.push(pathIn);\n\t}\n\n\tuseEffect(() => {\n\t\tconst headerHeight = headerRef.current.offsetHeight;\n\t\tconst instructionsHeight = instructionsRef.current.offsetHeight;\n\t\tconst footerHeight = footerRef.current.offsetHeight;\n\n\t\tconst screenBottomMargin = parseInt(window.getComputedStyle(bgCardRef.current).marginBottom);\n\n\t\t// Min height = 100vh - height of area above recipe card\n\t\tconst minHeight = window.innerHeight - (headerHeight + screenBottomMargin);\n\t\t// content = instructions height + footer height + footer bottom offset (30px)\n\t\tconst contentHeight = instructionsHeight + footerHeight + 30;\n\n\t\t// Set background card to height of max val between minHeight and contentHeight\n\t\tbgCardRef.current.style.height = `${Math.max(minHeight,contentHeight)}px`;\n\t\tmainRef.current.style.height = `${Math.max(minHeight,contentHeight)}px`;\n\t\t// If ingredients overflows, display scroll blur, else don't\n\t\tscrollBlurRef.current.style.display = ingredientsRef.current.scrollHeight > ingredientsRef.current.offsetHeight ? \"block\" : \"none\";\n\t},[headerRef,instructionsRef,footerRef]);\n\n\treturn(\n\t\t<section className={styles.recipeSection}>\n\t\t\t<header className={styles.recipeHeader} ref={headerRef}>\n\t\t\t\t<Tag path={-1}>Go Back</Tag>\n\t\t\t\t<h2><ins>{ props.meal }</ins></h2>\n\t\t\t\t<span className={styles.category}>\n\t\t\t\t\tCategory: <span className={styles.link} onClick={() => navigateTo(`/Categories/${props.category}`)}>{ props.category }</span>\n\t\t\t\t</span>\n\t\t\t\t<span className={styles.area}>\n\t\t\t\t\tArea: <span className={styles.link} onClick={() => navigateTo(`/Areas/${props.area}`)}>{ props.area }</span>\n\t\t\t\t</span>\n\t\t\t\t<Button text=\"Home\" path=\"/Home\" />\n\t\t\t</header>\n\t\t\t<main ref={mainRef} className={styles.recipeCard}>\n\t\t\t\t<figure onClick={() => window.open(`${props.source}`,\"_blank\")}>\n\t\t\t\t\t<img src={props.img} alt={props.meal} />\n\t\t\t\t\t<figcaption>- View Source -</figcaption>\n\t\t\t\t</figure>\n\n\t\t\t\t<article>\n\t\t\t\t\t<h3>Ingredients</h3>\n\t\t\t\t\t<div ref={ingredientsRef} className={styles.ingredients}>\n\t\t\t\t\t{\n\t\t\t\t\t\tprops.ingredients.map((ingredient, i) => <p key={i}>{ ingredient }</p> )\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ref={scrollBlurRef} className={styles.scrollBlur}></div>\n\t\t\t\t</article>\n\t\t\t\t<div ref={instructionsRef} className={styles.instructions}>\n\t\t\t\t{\n\t\t\t\t\tprops.instructions.includes(\"\\r\\n\\r\\n\") ?\n\t\t\t\t\tprops.instructions.split(\"\\r\\n\\r\\n\").map((instruction, i) => <p key={i}>{ instruction }</p> ) :\n\t\t\t\t\tprops.instructions.split(\"\\r\\n\").map((instruction, i) => <p key={i}>{ instruction }</p> )\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<footer ref={footerRef}>\n\t\t\t\t\tTags:\n\t\t\t\t\t{\n\t\t\t\t\t\tprops.tags &&\n\t\t\t\t\t\tprops.tags.split(\",\").map((tag, i) => \n\t\t\t\t\t\t\t<Tag key={i}>\n\t\t\t\t\t\t\t\t{ tag }\n\t\t\t\t\t\t\t</Tag>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</footer>\n\t\t\t</main>\n\t\t\t<div ref={bgCardRef} className={styles.recipeCardBg}></div>\n\t\t</section>\n\t);\n}\n\nexport { RecipeCard }"]},"metadata":{},"sourceType":"module"}